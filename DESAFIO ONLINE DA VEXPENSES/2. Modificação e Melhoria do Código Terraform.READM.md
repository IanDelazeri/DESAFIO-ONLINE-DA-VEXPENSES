# Alterações Realizadas

Foram feitas quatro mudanças no código Terraform original para melhorar a infraestrutura fornecida. A seguir, explico cada uma delas de forma simplificada.

Essas alterações aumentam a segurança da instância EC2 ao limitar o acesso SSH a um IP específico e alterar a porta de conexão. Além disso, foi instalado o Nginx para que a instância funcione como servidor web logo após ser criada, e adicionado um alarme no CloudWatch para monitorar o uso da CPU, garantindo o bom funcionamento da instância.

## 1. Mudança no Script de Inicialização da EC2 (user_data)
- **O que fiz:** Adicionei comandos no script de inicialização para instalar e configurar o Nginx, que é um servidor web.
  - Comandos executados:
    - Instala o Nginx (`apt-get install -y nginx`).
    - Inicia o Nginx (`systemctl start nginx`).
    - Configura o Nginx para iniciar automaticamente em reinicializações (`systemctl enable nginx`).
  
- **Por que fiz:** Para garantir que o Nginx já esteja rodando assim que a instância for criada, facilitando a criação de um servidor web sem necessidade de configurações manuais posteriores.

- **Resultado esperado:** Assim que a instância EC2 for iniciada, o Nginx estará rodando e a instância estará pronta para servir conteúdo web imediatamente.

## 2. Criação de um Alarme no CloudWatch
- **O que fiz:** Adicionei um alarme no CloudWatch para monitorar a utilização da CPU da instância EC2. O alarme dispara se a CPU passar de 80% por mais de 60 segundos.

- **Por que fiz:** Monitorar o desempenho da instância. Caso a CPU esteja sobrecarregada, será possível identificar o problema e tomar medidas, como otimização ou aumento dos recursos.

- **Resultado esperado:** O alarme avisa se a CPU estiver com uso excessivo, permitindo ações rápidas para manter o bom funcionamento da instância.

## 3. Mudanças no Grupo de Segurança
- **O que fiz:** Alterei as regras do grupo de segurança para permitir conexões SSH apenas de um IP específico e mudei a porta padrão do SSH de 22 para 2222.

- **Por que fiz:** Para aumentar a segurança da instância, limitando o acesso SSH a um IP confiável e alterando a porta padrão, reduzindo o risco de ataques externos.

- **Resultado esperado:** O acesso SSH será restrito ao IP configurado, garantindo maior segurança e reduzindo as chances de acessos não autorizados.

## 4. Configuração da Porta SSH na Instância
- **O que fiz:** Adicionei um comando no script de inicialização para alterar a porta SSH para 2222 no arquivo de configuração da instância e reiniciar o serviço SSH.

- **Resultado esperado:** A instância estará configurada para aceitar conexões SSH pela porta 2222, em conformidade com as regras do grupo de segurança, mantendo o acesso seguro e consistente.

## Resumo
Essas mudanças melhoram a segurança e o controle da instância EC2. Ao restringir o acesso SSH, instalar o Nginx automaticamente e monitorar a CPU, o ambiente fica mais protegido e fácil de gerenciar, minimizando riscos e facilitando a administração.
